!function(e){var t={};function n(a){if(t[a])return t[a].exports;var l=t[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(a,l,function(t){return e[t]}.bind(null,l));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0),n.p,n.p,n.p,n.p;const a=document.getElementById("login"),l=document.getElementById("logout"),o=document.getElementById("login-user"),r=document.getElementById("img-avatar"),i={apiKey:"AIzaSyDGTo41PYmovSD_uhkJTLMxEvmoutkmdzw",authDomain:"piskel-9234c.firebaseapp.com",databaseURL:"https://piskel-9234c.firebaseio.com",projectId:"piskel-9234c",storageBucket:"piskel-9234c.appspot.com",messagingSenderId:"967280018893",appId:"1:967280018893:web:f0d89886e2745518a7f084"};function c(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}a.addEventListener("click",(function(){const e=new firebase.auth.GoogleAuthProvider;firebase.auth().signInWithPopup(e).then(()=>{const e=firebase.auth().currentUser;null!=e&&e.providerData.forEach(e=>{o.innerText=e.displayName,r.src=e.photoURL,r.hidden=!1,o.hidden=!1,a.hidden=!0,l.hidden=!1})}).catch(e=>{console.log(e)})})),l.addEventListener("click",(function(){firebase.auth().signOut().then(()=>{l.hidden=!0,r.hidden=!0,o.hidden=!0,r.src="",o.innerText="",a.hidden=!1}).catch(e=>{console.log(e)})}));const s=document.getElementById("select-color-canvas"),d=document.getElementById("color-prev"),u=document.getElementById("color-red"),g=document.getElementById("color-blue");function m(e){d.style.backgroundColor=s.style.backgroundColor,s.value=e,s.style.backgroundColor=e}function f(){return s.value}function h(){d.style.backgroundColor=s.style.backgroundColor,s.style.backgroundColor=s.value}function v(){return document.querySelector("input[name=size-pencil]:checked").value}function p(e,t,n,a){const l=n-e,o=a-t,r=Math.abs(l),i=Math.abs(o);let c,s,d,u,g=2*i-r,m=2*r-i;if(i<=r){l>=0?(c=e,s=t,d=n):(c=n,s=a,d=e),q(c,s);for(let e=0;c<d;e+=1)c+=1,g<0?g+=2*i:(l<0&&o<0||l>0&&o>0?s+=1:s-=1,g+=2*(i-r)),q(c,s)}else{o>=0?(c=e,s=t,u=a):(c=n,s=a,u=t),q(c,s);for(let e=0;s<u;e+=1)s+=1,m<=0?m+=2*r:(l<0&&o<0||l>0&&o>0?c+=1:c-=1,m+=2*(r-i)),q(c,s)}}function y(e){return e.insertAdjacentHTML("beforeend",'<li class="list-frames-item">\n    <canvas class="small-canvas" width="100" height="100"></canvas>\n    <button class="btn-frame delete-frame" id="btn-delete-frame">\n      <i class="fas fa-trash"></i>\n    </button>\n    <button class="btn-frame clone-frame" id="btn-clone-frame">\n      <i class="fas fa-clone"></i>\n    </button>\n  </li>')}d.style.backgroundColor="#008000",s.style.backgroundColor="#008000",s.onchange=h,d.addEventListener("click",()=>{s.value=function(e){let t=Number(e.match(/\d{1,3}/gi)[0]).toString(16),n=Number(e.match(/\d{1,3}/gi)[1]).toString(16),a=Number(e.match(/\d{1,3}/gi)[2]).toString(16);return 1===t.length&&(t=`0${t}`),1===n.length&&(n=`0${n}`),1===a.length&&(a=`0${a}`),`#${t}${n}${a}`}(d.style.backgroundColor),s.style.backgroundColor=d.style.backgroundColor}),u.addEventListener("click",()=>{s.value="#ff0000",h()}),g.addEventListener("click",()=>{s.value="#0000ff",h()});const I=document.getElementById("list-tools");function b(e){const t={KeyP:"pencil",KeyB:"fill",KeyC:"choose",KeyL:"line",KeyE:"eraser"},n=Array.from(I.children).find(n=>n.id===t[e.code]);n&&(I.querySelector(".selected").classList.remove("selected"),n.classList.add("selected"))}function E(){return I.querySelector(".selected").id}document.addEventListener("keydown",e=>b(e)),I.addEventListener("click",e=>{return(t=e).preventDefault(),t.currentTarget.querySelector(".selected").classList.remove("selected"),void t.target.closest("li").classList.add("selected");var t});let w,L=[],S="none",k="512",C=!1,B=[],x="Minsk";const R=document.getElementById("canvas"),D=R.getContext("2d"),$=document.getElementById("image-resizing-text"),M=document.getElementById("btn-frames"),F=document.getElementById("list-frames"),O=document.getElementById("image-resizing"),P=document.getElementById("select-location");function T(){return B}function q(e,t){const n={x:0,y:0},a=v(),l=R.getBoundingClientRect(),o=(e-l.left)/(512/k),r=(t-l.top)/(512/k),i=Math.floor(o/a),c=Math.floor(r/a);n.x=i*a,n.y=c*a,D.lineTo(n.x,n.y),D.fillRect(n.x,n.y,a,a)}function z(e){R.width=e,R.height=e}function j(e){const t=R.getBoundingClientRect(),n=(e.clientX-t.left)/(512/k);return Math.floor(n/v())*v()}function A(e){const t=R.getBoundingClientRect(),n=(e.clientY-t.top)/(512/k);return Math.floor(n/v())*v()}function W(e){D.clearRect(0,0,512,512),D.fillStyle=e,D.fillRect(0,0,512,512),_()}function H(e,t,n){if(t<0||n<0||t>=e.width||n>=e.height)return[-1,-1,-1,-1];const a=4*(n*e.width+t);return e.data.slice(a,a+4)}function U(e,t,n,a){const l=4*(n*e.width+t),o=e;for(let e=0;e<3;e+=1)o.data[l+e]=a[e]}function _(){const e=R.toDataURL(),t=S.children[0].getContext("2d"),n=new Image;n.src=e,n.onload=()=>{t.drawImage(n,0,0,100,100)};const a=Array.from(F.children).findIndex(e=>e.classList.contains("active-frame"));B[a]=e}O.value=k,P.value=x,P.addEventListener("focus",()=>{document.removeEventListener("keydown",b)}),P.addEventListener("blur",()=>{document.addEventListener("keydown",b)}),document.getElementById("clear-canvas").addEventListener("click",()=>W("rgb(224, 224, 224)")),document.getElementById("full-fill-canvas").addEventListener("click",()=>W(f())),O.addEventListener("input",()=>{const e=R.toDataURL();k=O.value,z(k),$.textContent=`Image resizing ${k}px`;const t=new Image;t.crossOrigin="anonymous",t.src=e,t.onload=function(){let e=0,n=0,a=0,l=0;this.naturalWidth>=this.naturalHeight&&(l=this.naturalHeight*R.width/this.naturalWidth,n=(R.height-l)/2,a=R.width),this.naturalHeight>this.naturalWidth&&(a=this.naturalWidth*R.height/this.naturalHeight,e=(R.width-a)/2,l=R.height),D.imageSmoothingEnabled=!1,D.drawImage(t,e,n,a,l),_()}}),P.addEventListener("input",()=>{x=P.value}),R.addEventListener("mousedown",e=>{const t=E();"pencil"!==t&&"eraser"!==t||("pencil"===t&&(D.fillStyle=f()),"eraser"===t&&(D.fillStyle="rgb(224, 224, 224)"),C=!0,D.beginPath(),D.moveTo(j(e),A(e)),D.fillRect(j(e),A(e),v(),v())),"line"===t&&(C=!0,D.beginPath(),D.lineWidth=v(),D.strokeStyle=f(),D.moveTo(j(e),A(e)))}),R.addEventListener("mousemove",e=>{const t=E();"pencil"!==t&&"eraser"!==t||!0!==C||(L.push([e.clientX,e.clientY]),function(e){for(let t=0;t<e.length-1;t+=1)p(e[t][0],e[t][1],e[t+1][0],e[t+1][1])}(L))}),R.addEventListener("mouseup",e=>{const t=E();"pencil"!==t&&"eraser"!==t||(L=[],D.closePath(),C=!1),"line"===t&&(D.lineTo(j(e),A(e)),D.stroke(),D.closePath(),C=!1),_()}),R.addEventListener("click",e=>{const t=E();if("fill"===t){const t=R.getBoundingClientRect(),n=Math.floor((e.clientX-t.left)/(512/k)),a=Math.floor((e.clientY-t.top)/(512/k)),l=function(e){const t=[];if("#"===e.substring(0,1)){const n=e.substring(1);t.push(parseInt(n.substring(0,2),16)),t.push(parseInt(n.substring(2,4),16)),t.push(parseInt(n.substring(4),16)),t.push(255)}return t}(f()),o=D.getImageData(n,a,1,1);let r=0;for(let e=0;e<l.length;e+=1)if(o.data[e]===l[e]&&(r+=1,4===r))return;!function(e,t,n){const a=D.getImageData(0,0,D.canvas.width,D.canvas.height),l=H(a,e,t);if(!c(l,n)){const o=[e,t];for(;o.length>0;){const e=o.pop(),t=o.pop();c(H(a,t,e),l)&&(U(a,t,e,n),o.push(t+1,e),o.push(t-1,e),o.push(t,e+1),o.push(t,e-1))}D.putImageData(a,0,0)}}(n,a,l)}if("choose"===t){const t=R.getBoundingClientRect(),n=(e.clientX-t.left)/(512/k),a=(e.clientY-t.top)/(512/k);m(function(e){let t=e[0].toString(16),n=e[1].toString(16),a=e[2].toString(16);return 1===t.length&&(t=`0${t}`),1===n.length&&(n=`0${n}`),1===a.length&&(a=`0${a}`),`#${t}${n}${a}`}(D.getImageData(n,a,1,1).data))}_()}),document.getElementById("load-img").addEventListener("click",async()=>{const e=`https://api.unsplash.com/photos/random?query=town,${x}&client_id=`+"7ecf2c24d5d034741fef228be12d923381e2468cf13c79ee3b5236b81f3f5220";let t;try{const n=await fetch(e);t=await n.json()}catch(e){throw new Error(e)}W("rgb(224, 224, 224)");const n=new Image;n.crossOrigin="anonymous",n.src=t.urls.small,n.onload=function(){let e=0,t=0,a=0,l=0;this.naturalWidth>=this.naturalHeight&&(l=this.naturalHeight*R.width/this.naturalWidth,t=(R.height-l)/2,a=R.width),this.naturalHeight>this.naturalWidth&&(a=this.naturalWidth*R.height/this.naturalHeight,e=(R.width-a)/2,l=R.height),D.imageSmoothingEnabled=!1,D.drawImage(n,e,t,a,l),_()}}),document.getElementById("bw-img").addEventListener("click",()=>{const e=D.getImageData(0,0,R.width,R.height),t=D.createImageData(R.width,R.height),n=e.data,a=t.data,l=new Image;let o;for(let e=0;e<n.length;e+=4)o=.2126*n[e]+.7152*n[e+1]+.0722*n[e+2],a[e]=o,a[e+1]=o,a[e+2]=o,a[e+3]=n[e+3];l.crossOrigin="anonymous",D.putImageData(t,0,0),l.src=R.toDataURL(),D.drawImage(l,0,0,R.width,R.height),_()}),M.addEventListener("click",e=>{e.preventDefault(),S.classList.remove("active-frame"),y(F),S=F.lastElementChild,S.classList.add("active-frame"),D.fillStyle="rgb(224, 224, 224)",D.fillRect(0,0,512,512),B.splice(B.length,0,R.toDataURL())}),F.addEventListener("click",e=>{if(e.preventDefault(),e.target.closest("button[class*=delete]")){const t=Array.from(F.children).findIndex(t=>t===e.target.closest("li"));e.target.closest("li").remove(),B.splice(t,1)}else if(e.target.closest("button[class*=clone]")){S.classList.remove("active-frame"),S=e.target.closest("li"),S.classList.add("active-frame");const t=Array.from(F.children).findIndex(e=>e.classList.contains("active-frame"));F.insertBefore(e.target.closest("li").cloneNode(!0),e.target.closest("li").nextElementSibling);const n=S.nextElementSibling;S.classList.remove("active-frame");const a=n.children[0].getContext("2d"),l=new Image;l.src=B[t],l.onload=()=>{a.drawImage(l,0,0,100,100),D.drawImage(l,0,0),B.splice(t,0,R.toDataURL())},S=n}else{S.classList.remove("active-frame"),S=e.target.closest("li"),S.classList.add("active-frame");const t=Array.from(F.children).findIndex(e=>e.classList.contains("active-frame"));if(B[t]){const e=new Image;e.src=B[t],e.onload=()=>{D.drawImage(e,0,0)}}}});const N=document.getElementById("anim-canvas");let K=0;function Y(e){const t=document.getElementById("anim-canvas").getContext("2d"),n=new Image;t.clearRect(0,0,200,200),K>=e.length&&(K=0),e[K]&&(n.src=e[K],n.onload=()=>{t.drawImage(n,0,0,200,200)},K+=1)}N.addEventListener("click",(function(){if(("fullscreenEnabled"in document||"webkitFullscreenEnabled"in document)&&(document.fullscreenEnabled||document.webkitFullscreenEnabled)){const e=document.getElementById("anim-canvas");"requestFullscreen"in e?e.requestFullscreen():"webkitRequestFullscreen"in e&&e.webkitRequestFullscreen()}}));const X=document.getElementById("btn-open-piskel"),J=document.getElementById("wrapper-landing"),G=document.getElementById("wrapper-piskel");function Q(e){e&&(J.style.display="none",G.style.display="block")}X.addEventListener("click",e=>Q(e));const V=document.getElementById("anim-fps"),Z=document.getElementById("label-anim");let ee=1,te=setInterval(()=>Y(T()),1e3/ee);!function(){localStorage.getItem("sizeCanvas")&&(e=localStorage.getItem("sizeCanvas"),k=e,z(k),O.value=k,$.textContent=`Image resizing ${k}px`);var e;localStorage.getItem("allCanvasFrame")&&(t=JSON.parse(localStorage.getItem("allCanvasFrame")),B=t);var t;localStorage.getItem("currentCity")&&function(e){x=e,P.value=e}(localStorage.getItem("currentCity"));localStorage.getItem("currentColor")&&m(localStorage.getItem("currentColor"));localStorage.getItem("currentIndexFrame")&&function(e){w=e,B.length||(y(F),S=F.firstElementChild,S.classList.add("active-frame"),D.fillStyle="rgb(224, 224, 224)",D.fillRect(0,0,512,512));for(let e=0;e<B.length;e+=1)if(y(F),F.children[e]){const t=F.children[e].children[0].getContext("2d"),n=new Image;n.src=B[e],n.onload=()=>t.drawImage(n,0,0,100,100)}S=w>=0?F.children[w]:F.firstElementChild,S.classList.add("active-frame");let t=0;if(w>0&&(t=w),B[t]){const e=B[t],n=new Image;n.src=e,n.onload=()=>D.drawImage(n,0,0)}}(localStorage.getItem("currentIndexFrame"))}(),Q(localStorage.getItem("currentIndexFrame")),function(){if(!I.querySelector(".selected")){I.querySelector(".pencil").classList.add("selected")}}(),firebase.initializeApp(i),V.addEventListener("input",()=>{clearInterval(te),ee=V.value,Z.textContent=`${ee} fps`,te=setInterval(()=>Y(T()),1e3/ee)}),window.onbeforeunload=()=>{localStorage.setItem("allCanvasFrame",JSON.stringify(T())),localStorage.setItem("currentColor",f()),localStorage.setItem("currentIndexFrame",Array.from(F.children).findIndex(e=>e.classList.contains("active-frame"))),localStorage.setItem("currentCity",x),localStorage.setItem("sizeCanvas",k)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2FuaW0uZ2lmIiwid2VicGFjazovLy8uL2Fzc2V0cy9jYW52YXMucG5nIiwid2VicGFjazovLy8uL2Fzc2V0cy9jaXR5LnBuZyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvcC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvYXV0aC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9oZWxwZXJzLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2NvbG9yLXNlbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9oZWxwZXJzLWRyYXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvdGVtcGxhdGUtZnJhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvdG9vbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvY2FudmFzLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2hlbHBlcnMtYW5pbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9sYW5kaW5nLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3NjcmlwdC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImJ0bkxvZ2luIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImxvZ091dEJ0biIsImxvZ2luVXNlciIsImltZ0F2YXRhciIsImZpcmViYXNlQ29uZmlnIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsImRhdGFiYXNlVVJMIiwicHJvamVjdElkIiwic3RvcmFnZUJ1Y2tldCIsIm1lc3NhZ2luZ1NlbmRlcklkIiwiYXBwSWQiLCJjb2xvcnNNYXRjaCIsImEiLCJiIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByb3ZpZGVyIiwiZmlyZWJhc2UiLCJhdXRoIiwiR29vZ2xlQXV0aFByb3ZpZGVyIiwic2lnbkluV2l0aFBvcHVwIiwidGhlbiIsInVzZXIiLCJjdXJyZW50VXNlciIsInByb3ZpZGVyRGF0YSIsImZvckVhY2giLCJwcm9maWxlIiwiaW5uZXJUZXh0IiwiZGlzcGxheU5hbWUiLCJzcmMiLCJwaG90b1VSTCIsImhpZGRlbiIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2lnbk91dCIsInNlbGVjdENvbG9yIiwicHJldkNvbG9yIiwicmVkQ29sb3IiLCJibHVlQ29sb3IiLCJjaGFuZ2VUb1NhdmVDb2xvciIsImNvbG9yIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJnZXRTZWxlY3RDb2xvclZhbHVlIiwiY2hhbmdlQ29sb3IiLCJnZXRUaWxlV2lkdGgiLCJxdWVyeVNlbGVjdG9yIiwiZHJhd0xpbmUiLCJ4MSIsInkxIiwieDIiLCJ5MiIsImR4IiwiZHkiLCJkeDEiLCJNYXRoIiwiYWJzIiwiZHkxIiwieCIsInkiLCJ4ZSIsInllIiwicHgiLCJweSIsImRyYXdNb3VzZU1vdmUiLCJhZGRGcmFtZUhUTUwiLCJsaXN0RnJhbWVzIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwib25jaGFuZ2UiLCJyZ2IiLCJOdW1iZXIiLCJtYXRjaCIsInRvU3RyaW5nIiwiZyIsImxlbmd0aCIsInJnYlRvSGV4IiwibGlzdFRvb2xzIiwiYWRkSG90S2V5cyIsImV2ZW50IiwibGlzdEhvdEtleXMiLCJLZXlQIiwiS2V5QiIsIktleUMiLCJLZXlMIiwiS2V5RSIsIm5ld1Rvb2wiLCJBcnJheSIsImZyb20iLCJjaGlsZHJlbiIsImZpbmQiLCJlbCIsImlkIiwiY29kZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsImdldEN1cnJlbnRUb29sIiwiZSIsImNoYW5nZVRvb2wiLCJwcmV2ZW50RGVmYXVsdCIsImN1cnJlbnRUYXJnZXQiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiaW5kZXhGcmFtZSIsImJyZXplbmhlaW0iLCJjdXJyZW50RnJhbWVJdGVtIiwiY3VycmVudFNpemVDYW52YXMiLCJkcmF3IiwibGlzdENhbnZhc0ltYWdlcyIsIm5ld0NpdHkiLCJjdHgiLCJnZXRDb250ZXh0IiwiaW1hZ2VSZXNpemluZ1RleHQiLCJidG5GcmFtZXMiLCJpbWFnZVJlc2l6aW5nIiwic2VsZWN0Q2l0eSIsImdldENhbnZhc0ltYWdlcyIsImN1cnJlbnRYIiwiY3VycmVudFkiLCJtb3VzZSIsImN1cnJlbnRUaWxlV2lkdGgiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibXgiLCJsZWZ0IiwibXkiLCJ0b3AiLCJ4SW5kZXgiLCJmbG9vciIsInlJbmRleCIsImxpbmVUbyIsImZpbGxSZWN0IiwiZ2V0Q2FudmFzU2l6ZSIsInNpemUiLCJ3aWR0aCIsImhlaWdodCIsImdldE1vdXNlWCIsImNsaWVudFgiLCJnZXRNb3VzZVkiLCJjbGllbnRZIiwiZmlsbENhbnZhcyIsImNsZWFyUmVjdCIsImZpbGxTdHlsZSIsImN1cnJlbnRTdGF0ZUNhbnZhcyIsImdldFBpeGVsIiwiaW1hZ2VEYXRhIiwib2Zmc2V0IiwiZGF0YSIsInNsaWNlIiwic2V0UGl4ZWwiLCJkYXRhQ2FudmFzIiwiZGF0YVVSTCIsInRvRGF0YVVSTCIsInNtYWxsQ3R4IiwiaW1nIiwiSW1hZ2UiLCJvbmxvYWQiLCJkcmF3SW1hZ2UiLCJpbmRleEl0ZW1GcmFtZSIsImZpbmRJbmRleCIsImNvbnRhaW5zIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNhdmVDYW52YXNDdXJyZW50SW1hZ2UiLCJ0ZXh0Q29udGVudCIsImNyb3NzT3JpZ2luIiwic3RhcnRYIiwic3RhcnRZIiwicmVzdWx0SW1hZ2VXaWR0aCIsInJlc3VsdEltYWdlSGVpZ2h0IiwidGhpcyIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJjdXJyZW50VG9vbCIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVXaWR0aCIsInN0cm9rZVN0eWxlIiwicHVzaCIsImFyckZvckJyZXoiLCJnZXRDb29yZEJyZXplbmhlaW0iLCJjbG9zZVBhdGgiLCJzdHJva2UiLCJmaWxsQ29sb3IiLCJoZXgiLCJyZ2JDb2xvciIsInN1YnN0cmluZyIsIm1vZGlmeUhleCIsInBhcnNlSW50IiwiaGV4VG9SZ2IiLCJjdXJyZW50UGl4ZWxDb2xvciIsImdldEltYWdlRGF0YSIsInN0ZXBzIiwiY2FudmFzIiwidGFyZ2V0Q29sb3IiLCJwaXhlbHNUb0NoZWNrIiwicG9wIiwicHV0SW1hZ2VEYXRhIiwiZmxvb2RGaWxsIiwiY29udmVydFRvSGV4IiwiYXN5bmMiLCJ1cmwiLCJyZXNwb25zZSIsImZldGNoIiwianNvbiIsIkVycm9yIiwidXJscyIsInNtYWxsIiwiaURhdGFTcmMiLCJpRGF0YVRyZyIsImNyZWF0ZUltYWdlRGF0YSIsImRhdGFTcmMiLCJkYXRhVHJnIiwibHVtYSIsImxhc3RFbGVtZW50Q2hpbGQiLCJzcGxpY2UiLCJpbnNlcnRCZWZvcmUiLCJjbG9uZU5vZGUiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJhZnRlckN1cnJlbnRGcmFtZUl0ZW0iLCJjYW52YXNBbmltIiwiY291bnQiLCJzdGVwIiwiY2FudmFzSW1hZ2VzIiwiYW5pbUN0eCIsImZ1bGxzY3JlZW5FbmFibGVkIiwid2Via2l0RnVsbHNjcmVlbkVuYWJsZWQiLCJlbGVtZW50IiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJ3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbiIsImJ0bk9wZW5QaXNrZWwiLCJodG1sTGFuZGluZyIsImh0bWxQaXNrZWwiLCJvcGVuUGFnZVBpc2tlbCIsImRpc3BsYXkiLCJjaGFuZ2VGcHMiLCJsYWJlbEFuaW0iLCJmcHMiLCJ0aW1lcklkIiwic2V0SW50ZXJ2YWwiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiaW1hZ2VzIiwiSlNPTiIsInBhcnNlIiwiY2l0eSIsInNldENpdHkiLCJpbmRleCIsImZpcnN0RWxlbWVudENoaWxkIiwic2VhcmNoSW5kZXhGcmFtZSIsInNldEluZGV4Q3VycmVudEZyYW1lIiwibG9hZEZyb21Mb2NhbFN0b3JhZ2UiLCJjaGVja0N1cnJlbnRUb29sIiwiaW5pdGlhbGl6ZUFwcCIsImNsZWFySW50ZXJ2YWwiLCJ3aW5kb3ciLCJvbmJlZm9yZXVubG9hZCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxD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LEVBQVdzTCxrQkFHaEMvSSxFQUFpQlosVUFBVUUsSUFBSSxnQkFFL0IsSUFBSTBKLEVBQW1CLEVBTXZCLEdBSklsSixFQUFhLElBQ2ZrSixFQUFtQmxKLEdBR2pCSyxFQUFpQjZJLEdBQW1CLENBQ3RDLE1BQU1sRyxFQUFVM0MsRUFBaUI2SSxHQUMzQi9GLEVBQU0sSUFBSUMsTUFFaEJELEVBQUkvSCxJQUFNNEgsRUFDVkcsRUFBSUUsT0FBUyxJQUFNOUMsRUFBSStDLFVBQVVILEVBQUssRUFBRyxJR3pTekNnRyxDQUFxQlYsYUFBYUMsUUF4Q1Isc0JBVTlCVSxHQUNBbEIsRUFBZU8sYUFBYUMsUUFYRSxzQkpROUIsV0FDRSxJQUFLckssRUFBVTlCLGNBQWMsYUFBYyxDQUNyQjhCLEVBQVU5QixjQUFjLFdBQ2hDK0MsVUFBVUUsSUFBSSxhSUM5QjZKLEdUVEU3TyxTQUFTOE8sY0FBYzNQLEdTWXpCeU8sRUFBVTlOLGlCQUFpQixRQUFTLEtBQ2xDaVAsY0FBY2hCLElBQ2RELEdBQU1GLEVBQVU5UCxNQUNoQitQLEVBQVV6RSxZQUFjLEdBQUcwRSxTQUMzQkMsR0FBVUMsWUFBWSxJQUFNakIsRUFBSzFHLEtBQW9CLElBQU95SCxNQXlCOURrQixPQUFPQyxlQUFpQixLQUN0QmhCLGFBQWFpQixRQTVDWSxpQkE0Q2dCZCxLQUFLZSxVQUFVOUksTUFDeEQ0SCxhQUFhaUIsUUExQ0csZUEwQ2dCdE4sS0FDaENxTSxhQUFhaUIsUUEvQ2Usb0JIbVdkM0ssTUFBTUMsS0FBS3JCLEVBQVdzQixVQUFVdUUsVUFBV3JFLEdBQU9BLEVBQUdHLFVBQVVtRSxTQUFTLGtCR25UdEZnRixhQUFhaUIsUUE3Q1MsY0hxV2ZwSixHR3ZUUG1JLGFBQWFpQixRQS9DUSxhSHlWZHZKIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHMvYW5pbS5naWZcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYXNzZXRzL2NhbnZhcy5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYXNzZXRzL2NpdHkucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFzc2V0cy9wLnBuZ1wiOyIsImNvbnN0IGJ0bkxvZ2luID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luJyk7XG5jb25zdCBsb2dPdXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9nb3V0Jyk7XG5jb25zdCBsb2dpblVzZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW4tdXNlcicpO1xuY29uc3QgaW1nQXZhdGFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZy1hdmF0YXInKTtcbmNvbnN0IGZpcmViYXNlQ29uZmlnID0ge1xuICBhcGlLZXk6ICdBSXphU3lER1RvNDFQWW1vdlNEX3Voa0pUTE14RXZtb3V0a21kencnLFxuICBhdXRoRG9tYWluOiAncGlza2VsLTkyMzRjLmZpcmViYXNlYXBwLmNvbScsXG4gIGRhdGFiYXNlVVJMOiAnaHR0cHM6Ly9waXNrZWwtOTIzNGMuZmlyZWJhc2Vpby5jb20nLFxuICBwcm9qZWN0SWQ6ICdwaXNrZWwtOTIzNGMnLFxuICBzdG9yYWdlQnVja2V0OiAncGlza2VsLTkyMzRjLmFwcHNwb3QuY29tJyxcbiAgbWVzc2FnaW5nU2VuZGVySWQ6ICc5NjcyODAwMTg4OTMnLFxuICBhcHBJZDogJzE6OTY3MjgwMDE4ODkzOndlYjpmMGQ4OTg4NmUyNzQ1NTE4YTdmMDg0Jyxcbn07XG5cbmJ0bkxvZ2luLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZ29vZ2xlU2lnbkluKTtcbmxvZ091dEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGdvb2dsZVNpZ25PdXQpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyogbG9hZGluZyBcImZpcmViYXNlXCIgaXMgZHVlIHRvIHRoZSBkZXBlbmRlbmN5IHNwZWNpZmllZCBpbiBpbmRleC5odG1sXCIgKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUF1dGgoKSB7XG4gIGZpcmViYXNlLmluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpO1xufVxuXG5mdW5jdGlvbiBnb29nbGVTaWduSW4oKSB7XG4gIGNvbnN0IHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyKCk7XG5cbiAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhQb3B1cChwcm92aWRlcikudGhlbigoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlcjtcblxuICAgIGlmICh1c2VyICE9IG51bGwpIHtcbiAgICAgIHVzZXIucHJvdmlkZXJEYXRhLmZvckVhY2goKHByb2ZpbGUpID0+IHtcbiAgICAgICAgbG9naW5Vc2VyLmlubmVyVGV4dCA9IHByb2ZpbGUuZGlzcGxheU5hbWU7XG4gICAgICAgIGltZ0F2YXRhci5zcmMgPSBwcm9maWxlLnBob3RvVVJMO1xuICAgICAgICBpbWdBdmF0YXIuaGlkZGVuID0gZmFsc2U7XG4gICAgICAgIGxvZ2luVXNlci5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgYnRuTG9naW4uaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgbG9nT3V0QnRuLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfVxuICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnb29nbGVTaWduT3V0KCkge1xuICBmaXJlYmFzZS5hdXRoKCkuc2lnbk91dCgpLnRoZW4oKCkgPT4ge1xuICAgIGxvZ091dEJ0bi5oaWRkZW4gPSB0cnVlO1xuICAgIGltZ0F2YXRhci5oaWRkZW4gPSB0cnVlO1xuICAgIGxvZ2luVXNlci5oaWRkZW4gPSB0cnVlO1xuICAgIGltZ0F2YXRhci5zcmMgPSAnJztcbiAgICBsb2dpblVzZXIuaW5uZXJUZXh0ID0gJyc7XG4gICAgYnRuTG9naW4uaGlkZGVuID0gZmFsc2U7XG4gIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgfSk7XG59XG4iLCJmdW5jdGlvbiByZ2JUb0hleChyZ2IpIHtcbiAgbGV0IHIgPSBOdW1iZXIocmdiLm1hdGNoKC9cXGR7MSwzfS9naSlbMF0pLnRvU3RyaW5nKDE2KTtcbiAgbGV0IGcgPSBOdW1iZXIocmdiLm1hdGNoKC9cXGR7MSwzfS9naSlbMV0pLnRvU3RyaW5nKDE2KTtcbiAgbGV0IGIgPSBOdW1iZXIocmdiLm1hdGNoKC9cXGR7MSwzfS9naSlbMl0pLnRvU3RyaW5nKDE2KTtcblxuICBpZiAoci5sZW5ndGggPT09IDEpIHtcbiAgICByID0gYDAke3J9YDtcbiAgfVxuICBpZiAoZy5sZW5ndGggPT09IDEpIHtcbiAgICBnID0gYDAke2d9YDtcbiAgfVxuICBpZiAoYi5sZW5ndGggPT09IDEpIHtcbiAgICBiID0gYDAke2J9YDtcbiAgfVxuXG4gIHJldHVybiBgIyR7cn0ke2d9JHtifWA7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRUb0hleChyZ2IpIHtcbiAgbGV0IHIgPSByZ2JbMF0udG9TdHJpbmcoMTYpO1xuICBsZXQgZyA9IHJnYlsxXS50b1N0cmluZygxNik7XG4gIGxldCBiID0gcmdiWzJdLnRvU3RyaW5nKDE2KTtcblxuICBpZiAoci5sZW5ndGggPT09IDEpIHtcbiAgICByID0gYDAke3J9YDtcbiAgfVxuICBpZiAoZy5sZW5ndGggPT09IDEpIHtcbiAgICBnID0gYDAke2d9YDtcbiAgfVxuICBpZiAoYi5sZW5ndGggPT09IDEpIHtcbiAgICBiID0gYDAke2J9YDtcbiAgfVxuXG4gIHJldHVybiBgIyR7cn0ke2d9JHtifWA7XG59XG5cbmZ1bmN0aW9uIGhleFRvUmdiKGhleCkge1xuICBjb25zdCByZ2JDb2xvciA9IFtdO1xuXG4gIGlmIChoZXguc3Vic3RyaW5nKDAsIDEpID09PSAnIycpIHtcbiAgICBjb25zdCBtb2RpZnlIZXggPSBoZXguc3Vic3RyaW5nKDEpO1xuICAgIHJnYkNvbG9yLnB1c2gocGFyc2VJbnQobW9kaWZ5SGV4LnN1YnN0cmluZygwLCAyKSwgMTYpKTtcbiAgICByZ2JDb2xvci5wdXNoKHBhcnNlSW50KG1vZGlmeUhleC5zdWJzdHJpbmcoMiwgNCksIDE2KSk7XG4gICAgcmdiQ29sb3IucHVzaChwYXJzZUludChtb2RpZnlIZXguc3Vic3RyaW5nKDQpLCAxNikpO1xuICAgIHJnYkNvbG9yLnB1c2goMjU1KTtcbiAgfVxuXG4gIHJldHVybiByZ2JDb2xvcjtcbn1cblxuZnVuY3Rpb24gY29sb3JzTWF0Y2goYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXTtcbn1cblxuZXhwb3J0IHtcbiAgcmdiVG9IZXgsXG4gIGNvbnZlcnRUb0hleCxcbiAgaGV4VG9SZ2IsXG4gIGNvbG9yc01hdGNoLFxufTtcbiIsImltcG9ydCB7IHJnYlRvSGV4IH0gZnJvbSAnLi9oZWxwZXJzJztcblxuY29uc3QgZGVmYXVsdENvbG9yID0gJyMwMDgwMDAnO1xuY29uc3Qgc2VsZWN0Q29sb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0LWNvbG9yLWNhbnZhcycpO1xuY29uc3QgcHJldkNvbG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbG9yLXByZXYnKTtcbmNvbnN0IHJlZENvbG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbG9yLXJlZCcpO1xuY29uc3QgYmx1ZUNvbG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbG9yLWJsdWUnKTtcblxucHJldkNvbG9yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGRlZmF1bHRDb2xvcjtcbnNlbGVjdENvbG9yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGRlZmF1bHRDb2xvcjtcbnNlbGVjdENvbG9yLm9uY2hhbmdlID0gY2hhbmdlQ29sb3I7XG5cbnByZXZDb2xvci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgc2VsZWN0Q29sb3IudmFsdWUgPSByZ2JUb0hleChwcmV2Q29sb3Iuc3R5bGUuYmFja2dyb3VuZENvbG9yKTtcbiAgc2VsZWN0Q29sb3Iuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gcHJldkNvbG9yLnN0eWxlLmJhY2tncm91bmRDb2xvcjtcbn0pO1xuXG5yZWRDb2xvci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgc2VsZWN0Q29sb3IudmFsdWUgPSAnI2ZmMDAwMCc7XG4gIGNoYW5nZUNvbG9yKCk7XG59KTtcblxuYmx1ZUNvbG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBzZWxlY3RDb2xvci52YWx1ZSA9ICcjMDAwMGZmJztcbiAgY2hhbmdlQ29sb3IoKTtcbn0pO1xuXG5mdW5jdGlvbiBjaGFuZ2VUb1NhdmVDb2xvcihjb2xvcikge1xuICBwcmV2Q29sb3Iuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gc2VsZWN0Q29sb3Iuc3R5bGUuYmFja2dyb3VuZENvbG9yO1xuICBzZWxlY3RDb2xvci52YWx1ZSA9IGNvbG9yO1xuICBzZWxlY3RDb2xvci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbn1cblxuZnVuY3Rpb24gZ2V0U2VsZWN0Q29sb3JWYWx1ZSgpIHtcbiAgcmV0dXJuIHNlbGVjdENvbG9yLnZhbHVlO1xufVxuXG5mdW5jdGlvbiBjaGFuZ2VDb2xvcigpIHtcbiAgcHJldkNvbG9yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHNlbGVjdENvbG9yLnN0eWxlLmJhY2tncm91bmRDb2xvcjtcbiAgc2VsZWN0Q29sb3Iuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gc2VsZWN0Q29sb3IudmFsdWU7XG59XG5cbmV4cG9ydCB7XG4gIGNoYW5nZVRvU2F2ZUNvbG9yLFxuICBnZXRTZWxlY3RDb2xvclZhbHVlLFxufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgeyBkcmF3TW91c2VNb3ZlIH0gZnJvbSAnLi9jYW52YXMnO1xuLyogZXNsaW50LWVuYWJsZSAqL1xuXG5mdW5jdGlvbiBnZXRDb29yZEJyZXplbmhlaW0oYXJyRm9yQnJleikge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyckZvckJyZXoubGVuZ3RoIC0gMTsgaSArPSAxKSB7XG4gICAgZHJhd0xpbmUoYXJyRm9yQnJleltpXVswXSwgYXJyRm9yQnJleltpXVsxXSwgYXJyRm9yQnJleltpICsgMV1bMF0sIGFyckZvckJyZXpbaSArIDFdWzFdKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRUaWxlV2lkdGgoKSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXNpemUtcGVuY2lsXTpjaGVja2VkJykudmFsdWU7XG59XG5cbmZ1bmN0aW9uIGRyYXdMaW5lKHgxLCB5MSwgeDIsIHkyKSB7XG4gIGNvbnN0IGR4ID0geDIgLSB4MTtcbiAgY29uc3QgZHkgPSB5MiAtIHkxO1xuICBjb25zdCBkeDEgPSBNYXRoLmFicyhkeCk7XG4gIGNvbnN0IGR5MSA9IE1hdGguYWJzKGR5KTtcbiAgbGV0IHg7XG4gIGxldCB5O1xuICBsZXQgeGU7XG4gIGxldCB5ZTtcbiAgbGV0IHB4ID0gMiAqIGR5MSAtIGR4MTtcbiAgbGV0IHB5ID0gMiAqIGR4MSAtIGR5MTtcblxuICBpZiAoZHkxIDw9IGR4MSkge1xuICAgIGlmIChkeCA+PSAwKSB7XG4gICAgICB4ID0geDE7XG4gICAgICB5ID0geTE7XG4gICAgICB4ZSA9IHgyO1xuICAgIH0gZWxzZSB7XG4gICAgICB4ID0geDI7XG4gICAgICB5ID0geTI7XG4gICAgICB4ZSA9IHgxO1xuICAgIH1cblxuICAgIGRyYXdNb3VzZU1vdmUoeCwgeSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgeCA8IHhlOyBpICs9IDEpIHtcbiAgICAgIHggKz0gMTtcbiAgICAgIGlmIChweCA8IDApIHtcbiAgICAgICAgcHggKz0gMiAqIGR5MTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICgoZHggPCAwICYmIGR5IDwgMCkgfHwgKGR4ID4gMCAmJiBkeSA+IDApKSB7XG4gICAgICAgICAgeSArPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHkgLT0gMTtcbiAgICAgICAgfVxuICAgICAgICBweCArPSAyICogKGR5MSAtIGR4MSk7XG4gICAgICB9XG5cbiAgICAgIGRyYXdNb3VzZU1vdmUoeCwgeSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChkeSA+PSAwKSB7XG4gICAgICB4ID0geDE7XG4gICAgICB5ID0geTE7XG4gICAgICB5ZSA9IHkyO1xuICAgIH0gZWxzZSB7XG4gICAgICB4ID0geDI7IHkgPSB5MjsgeWUgPSB5MTtcbiAgICB9XG5cbiAgICBkcmF3TW91c2VNb3ZlKHgsIHkpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IHkgPCB5ZTsgaSArPSAxKSB7XG4gICAgICB5ICs9IDE7XG4gICAgICBpZiAocHkgPD0gMCkge1xuICAgICAgICBweSArPSAyICogZHgxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKChkeCA8IDAgJiYgZHkgPCAwKSB8fCAoZHggPiAwICYmIGR5ID4gMCkpIHtcbiAgICAgICAgICB4ICs9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgeCAtPSAxO1xuICAgICAgICB9XG4gICAgICAgIHB5ICs9IDIgKiAoZHgxIC0gZHkxKTtcbiAgICAgIH1cblxuICAgICAgZHJhd01vdXNlTW92ZSh4LCB5KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtcbiAgZ2V0VGlsZVdpZHRoLFxuICBnZXRDb29yZEJyZXplbmhlaW0sXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkRnJhbWVIVE1MKGxpc3RGcmFtZXMpIHtcbiAgcmV0dXJuIGxpc3RGcmFtZXMuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLFxuICAgIGA8bGkgY2xhc3M9XCJsaXN0LWZyYW1lcy1pdGVtXCI+XG4gICAgPGNhbnZhcyBjbGFzcz1cInNtYWxsLWNhbnZhc1wiIHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiMTAwXCI+PC9jYW52YXM+XG4gICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1mcmFtZSBkZWxldGUtZnJhbWVcIiBpZD1cImJ0bi1kZWxldGUtZnJhbWVcIj5cbiAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLXRyYXNoXCI+PC9pPlxuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b24gY2xhc3M9XCJidG4tZnJhbWUgY2xvbmUtZnJhbWVcIiBpZD1cImJ0bi1jbG9uZS1mcmFtZVwiPlxuICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtY2xvbmVcIj48L2k+XG4gICAgPC9idXR0b24+XG4gIDwvbGk+YCk7XG59XG4iLCJjb25zdCBsaXN0VG9vbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlzdC10b29scycpO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IGFkZEhvdEtleXMoZSkpO1xubGlzdFRvb2xzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IGNoYW5nZVRvb2woZSkpO1xuXG5mdW5jdGlvbiBhZGRIb3RLZXlzKGV2ZW50KSB7XG4gIGNvbnN0IGxpc3RIb3RLZXlzID0ge1xuICAgIEtleVA6ICdwZW5jaWwnLFxuICAgIEtleUI6ICdmaWxsJyxcbiAgICBLZXlDOiAnY2hvb3NlJyxcbiAgICBLZXlMOiAnbGluZScsXG4gICAgS2V5RTogJ2VyYXNlcicsXG4gIH07XG4gIGNvbnN0IG5ld1Rvb2wgPSBBcnJheS5mcm9tKGxpc3RUb29scy5jaGlsZHJlbikuZmluZCgoZWwpID0+IGVsLmlkID09PSBsaXN0SG90S2V5c1tldmVudC5jb2RlXSk7XG5cbiAgaWYgKCFuZXdUb29sKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgY3VycmVudFRvb2wgPSBsaXN0VG9vbHMucXVlcnlTZWxlY3RvcignLnNlbGVjdGVkJyk7XG4gIGN1cnJlbnRUb29sLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG5cbiAgbmV3VG9vbC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xufVxuXG5mdW5jdGlvbiBjaGVja0N1cnJlbnRUb29sKCkge1xuICBpZiAoIWxpc3RUb29scy5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0ZWQnKSkge1xuICAgIGNvbnN0IGN1cnJlbnRUb29sID0gbGlzdFRvb2xzLnF1ZXJ5U2VsZWN0b3IoJy5wZW5jaWwnKTtcbiAgICBjdXJyZW50VG9vbC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoYW5nZVRvb2woZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICBjb25zdCBjdXJyZW50VG9vbCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignLnNlbGVjdGVkJyk7XG4gIGN1cnJlbnRUb29sLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG5cbiAgY29uc3QgbmV3Q3VycmVudFRvb2wgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnbGknKTtcbiAgbmV3Q3VycmVudFRvb2wuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q3VycmVudFRvb2woKSB7XG4gIGNvbnN0IGN1cnJlbnRUb29sID0gbGlzdFRvb2xzLnF1ZXJ5U2VsZWN0b3IoJy5zZWxlY3RlZCcpO1xuICByZXR1cm4gY3VycmVudFRvb2wuaWQ7XG59XG5cbmV4cG9ydCB7XG4gIGFkZEhvdEtleXMsXG4gIGNoZWNrQ3VycmVudFRvb2wsXG4gIGdldEN1cnJlbnRUb29sLFxufTtcbiIsImltcG9ydCB7IGNoYW5nZVRvU2F2ZUNvbG9yLCBnZXRTZWxlY3RDb2xvclZhbHVlIH0gZnJvbSAnLi9jb2xvci1zZWxlY3Rpb24nO1xuaW1wb3J0IHtcbiAgY29sb3JzTWF0Y2gsXG4gIGNvbnZlcnRUb0hleCxcbiAgaGV4VG9SZ2IsXG59IGZyb20gJy4vaGVscGVycyc7XG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IHsgZ2V0Q29vcmRCcmV6ZW5oZWltLCBnZXRUaWxlV2lkdGggfSBmcm9tICcuL2hlbHBlcnMtZHJhdyc7XG4vKiBlc2xpbnQtZW5hYmxlICovXG5pbXBvcnQgYWRkRnJhbWVIVE1MIGZyb20gJy4vdGVtcGxhdGUtZnJhbWUnO1xuaW1wb3J0IHsgYWRkSG90S2V5cywgZ2V0Q3VycmVudFRvb2wgfSBmcm9tICcuL3Rvb2xzJztcblxuY29uc3QgY2xlYXJDb2xvckNhbnZhcyA9ICdyZ2IoMjI0LCAyMjQsIDIyNCknO1xuY29uc3QgZnVsbFNpemVDYW52YXMgPSA1MTI7XG5jb25zdCBzbWFsbFNpemVDYW52YXMgPSAxMDA7XG5cbmxldCBicmV6ZW5oZWltID0gW107XG5sZXQgY3VycmVudEZyYW1lSXRlbSA9ICdub25lJztcbmxldCBjdXJyZW50U2l6ZUNhbnZhcyA9ICc1MTInO1xubGV0IGRyYXcgPSBmYWxzZTtcbmxldCBpbmRleEZyYW1lO1xubGV0IGxpc3RDYW52YXNJbWFnZXMgPSBbXTtcbmxldCBuZXdDaXR5ID0gJ01pbnNrJztcblxuY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xuY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5jb25zdCBpbWFnZVJlc2l6aW5nVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWFnZS1yZXNpemluZy10ZXh0Jyk7XG5jb25zdCBidG5GcmFtZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLWZyYW1lcycpO1xuY29uc3QgbGlzdEZyYW1lcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXN0LWZyYW1lcycpO1xuY29uc3QgaW1hZ2VSZXNpemluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWFnZS1yZXNpemluZycpO1xuY29uc3Qgc2VsZWN0Q2l0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3QtbG9jYXRpb24nKTtcblxuaW1hZ2VSZXNpemluZy52YWx1ZSA9IGN1cnJlbnRTaXplQ2FudmFzO1xuc2VsZWN0Q2l0eS52YWx1ZSA9IG5ld0NpdHk7XG5cbnNlbGVjdENpdHkuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBhZGRIb3RLZXlzKTtcbn0pO1xuXG5zZWxlY3RDaXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBhZGRIb3RLZXlzKTtcbn0pO1xuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xlYXItY2FudmFzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBmaWxsQ2FudmFzKGNsZWFyQ29sb3JDYW52YXMpKTtcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmdWxsLWZpbGwtY2FudmFzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBmaWxsQ2FudmFzKGdldFNlbGVjdENvbG9yVmFsdWUoKSkpO1xuXG5pbWFnZVJlc2l6aW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICBjb25zdCBzYXZlQ2FudmFzQ3VycmVudEltYWdlID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuICBjdXJyZW50U2l6ZUNhbnZhcyA9IGltYWdlUmVzaXppbmcudmFsdWU7XG4gIGdldENhbnZhc1NpemUoY3VycmVudFNpemVDYW52YXMpO1xuICBpbWFnZVJlc2l6aW5nVGV4dC50ZXh0Q29udGVudCA9IGBJbWFnZSByZXNpemluZyAke2N1cnJlbnRTaXplQ2FudmFzfXB4YDtcbiAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gIGltZy5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICBpbWcuc3JjID0gc2F2ZUNhbnZhc0N1cnJlbnRJbWFnZTtcbiAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uIGRyYXdJbWFnZU9uQ2FudmFzKCkge1xuICAgIGxldCBzdGFydFggPSAwO1xuICAgIGxldCBzdGFydFkgPSAwO1xuICAgIGxldCByZXN1bHRJbWFnZVdpZHRoID0gMDtcbiAgICBsZXQgcmVzdWx0SW1hZ2VIZWlnaHQgPSAwO1xuXG4gICAgaWYgKHRoaXMubmF0dXJhbFdpZHRoID49IHRoaXMubmF0dXJhbEhlaWdodCkge1xuICAgICAgcmVzdWx0SW1hZ2VIZWlnaHQgPSAodGhpcy5uYXR1cmFsSGVpZ2h0ICogY2FudmFzLndpZHRoKSAvIHRoaXMubmF0dXJhbFdpZHRoO1xuICAgICAgc3RhcnRZID0gKGNhbnZhcy5oZWlnaHQgLSByZXN1bHRJbWFnZUhlaWdodCkgLyAyO1xuICAgICAgcmVzdWx0SW1hZ2VXaWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5uYXR1cmFsSGVpZ2h0ID4gdGhpcy5uYXR1cmFsV2lkdGgpIHtcbiAgICAgIHJlc3VsdEltYWdlV2lkdGggPSAodGhpcy5uYXR1cmFsV2lkdGggKiBjYW52YXMuaGVpZ2h0KSAvIHRoaXMubmF0dXJhbEhlaWdodDtcbiAgICAgIHN0YXJ0WCA9IChjYW52YXMud2lkdGggLSByZXN1bHRJbWFnZVdpZHRoKSAvIDI7XG4gICAgICByZXN1bHRJbWFnZUhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCBzdGFydFgsIHN0YXJ0WSwgcmVzdWx0SW1hZ2VXaWR0aCwgcmVzdWx0SW1hZ2VIZWlnaHQpO1xuXG4gICAgY3VycmVudFN0YXRlQ2FudmFzKCk7XG4gIH07XG59KTtcblxuc2VsZWN0Q2l0eS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgbmV3Q2l0eSA9IHNlbGVjdENpdHkudmFsdWU7XG59KTtcblxuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRUb29sID0gZ2V0Q3VycmVudFRvb2woKTtcblxuICBpZiAoY3VycmVudFRvb2wgPT09ICdwZW5jaWwnIHx8IGN1cnJlbnRUb29sID09PSAnZXJhc2VyJykge1xuICAgIGlmIChjdXJyZW50VG9vbCA9PT0gJ3BlbmNpbCcpIHtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBnZXRTZWxlY3RDb2xvclZhbHVlKCk7XG4gICAgfVxuICAgIGlmIChjdXJyZW50VG9vbCA9PT0gJ2VyYXNlcicpIHtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBjbGVhckNvbG9yQ2FudmFzO1xuICAgIH1cbiAgICBkcmF3ID0gdHJ1ZTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyhnZXRNb3VzZVgoZSksIGdldE1vdXNlWShlKSk7XG4gICAgY3R4LmZpbGxSZWN0KGdldE1vdXNlWChlKSwgZ2V0TW91c2VZKGUpLCBnZXRUaWxlV2lkdGgoKSwgZ2V0VGlsZVdpZHRoKCkpO1xuICB9XG5cbiAgaWYgKGN1cnJlbnRUb29sID09PSAnbGluZScpIHtcbiAgICBkcmF3ID0gdHJ1ZTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmxpbmVXaWR0aCA9IGdldFRpbGVXaWR0aCgpO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IGdldFNlbGVjdENvbG9yVmFsdWUoKTtcbiAgICBjdHgubW92ZVRvKGdldE1vdXNlWChlKSwgZ2V0TW91c2VZKGUpKTtcbiAgfVxufSk7XG5cbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZSkgPT4ge1xuICBjb25zdCBjdXJyZW50VG9vbCA9IGdldEN1cnJlbnRUb29sKCk7XG5cbiAgaWYgKChjdXJyZW50VG9vbCA9PT0gJ3BlbmNpbCcgfHwgY3VycmVudFRvb2wgPT09ICdlcmFzZXInKSAmJiBkcmF3ID09PSB0cnVlKSB7XG4gICAgYnJlemVuaGVpbS5wdXNoKFtlLmNsaWVudFgsIGUuY2xpZW50WV0pO1xuICAgIGdldENvb3JkQnJlemVuaGVpbShicmV6ZW5oZWltKTtcbiAgfVxufSk7XG5cbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKGUpID0+IHtcbiAgY29uc3QgY3VycmVudFRvb2wgPSBnZXRDdXJyZW50VG9vbCgpO1xuXG4gIGlmIChjdXJyZW50VG9vbCA9PT0gJ3BlbmNpbCcgfHwgY3VycmVudFRvb2wgPT09ICdlcmFzZXInKSB7XG4gICAgYnJlemVuaGVpbSA9IFtdO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBkcmF3ID0gZmFsc2U7XG4gIH1cblxuICBpZiAoY3VycmVudFRvb2wgPT09ICdsaW5lJykge1xuICAgIGN0eC5saW5lVG8oZ2V0TW91c2VYKGUpLCBnZXRNb3VzZVkoZSkpO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgZHJhdyA9IGZhbHNlO1xuICB9XG5cbiAgY3VycmVudFN0YXRlQ2FudmFzKCk7XG59KTtcblxuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgY29uc3QgY3VycmVudFRvb2wgPSBnZXRDdXJyZW50VG9vbCgpO1xuXG4gIGlmIChjdXJyZW50VG9vbCA9PT0gJ2ZpbGwnKSB7XG4gICAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBteCA9IE1hdGguZmxvb3IoKGUuY2xpZW50WCAtIHJlY3QubGVmdCkgLyAoZnVsbFNpemVDYW52YXMgLyBjdXJyZW50U2l6ZUNhbnZhcykpO1xuICAgIGNvbnN0IG15ID0gTWF0aC5mbG9vcigoZS5jbGllbnRZIC0gcmVjdC50b3ApIC8gKGZ1bGxTaXplQ2FudmFzIC8gY3VycmVudFNpemVDYW52YXMpKTtcbiAgICBjb25zdCBmaWxsQ29sb3IgPSBoZXhUb1JnYihnZXRTZWxlY3RDb2xvclZhbHVlKCkpO1xuICAgIGNvbnN0IGN1cnJlbnRQaXhlbENvbG9yID0gY3R4LmdldEltYWdlRGF0YShteCwgbXksIDEsIDEpO1xuICAgIGxldCBzdGVwcyA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGxDb2xvci5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKGN1cnJlbnRQaXhlbENvbG9yLmRhdGFbaV0gPT09IGZpbGxDb2xvcltpXSkge1xuICAgICAgICBzdGVwcyArPSAxO1xuICAgICAgICBpZiAoc3RlcHMgPT09IDQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmbG9vZEZpbGwobXgsIG15LCBmaWxsQ29sb3IpO1xuICB9XG5cbiAgaWYgKGN1cnJlbnRUb29sID09PSAnY2hvb3NlJykge1xuICAgIGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgbXggPSAoZS5jbGllbnRYIC0gcmVjdC5sZWZ0KSAvIChmdWxsU2l6ZUNhbnZhcyAvIGN1cnJlbnRTaXplQ2FudmFzKTtcbiAgICBjb25zdCBteSA9IChlLmNsaWVudFkgLSByZWN0LnRvcCkgLyAoZnVsbFNpemVDYW52YXMgLyBjdXJyZW50U2l6ZUNhbnZhcyk7XG4gICAgY29uc3QgaW1nRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEobXgsIG15LCAxLCAxKTtcblxuICAgIGNoYW5nZVRvU2F2ZUNvbG9yKGNvbnZlcnRUb0hleChpbWdEYXRhLmRhdGEpKTtcbiAgfVxuXG4gIGN1cnJlbnRTdGF0ZUNhbnZhcygpO1xufSk7XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkLWltZycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICBjb25zdCBiYXNlVXJsID0gYGh0dHBzOi8vYXBpLnVuc3BsYXNoLmNvbS9waG90b3MvcmFuZG9tP3F1ZXJ5PXRvd24sJHtuZXdDaXR5fSZjbGllbnRfaWQ9YDtcbiAgY29uc3QgYWNjZXNzS2V5ID0gJzdlY2YyYzI0ZDVkMDM0NzQxZmVmMjI4YmUxMmQ5MjMzODFlMjQ2OGNmMTNjNzllZTNiNTIzNmI4MWYzZjUyMjAnO1xuICBjb25zdCB1cmwgPSBiYXNlVXJsICsgYWNjZXNzS2V5O1xuICBsZXQgZGF0YTtcblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgICBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGUpO1xuICB9XG5cbiAgZmlsbENhbnZhcyhjbGVhckNvbG9yQ2FudmFzKTtcblxuICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgaW1nLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XG4gIGltZy5zcmMgPSBkYXRhLnVybHMuc21hbGw7XG4gIGltZy5vbmxvYWQgPSBmdW5jdGlvbiBkcmF3SW1hZ2VPbkNhbnZhcygpIHtcbiAgICBsZXQgc3RhcnRYID0gMDtcbiAgICBsZXQgc3RhcnRZID0gMDtcbiAgICBsZXQgcmVzdWx0SW1hZ2VXaWR0aCA9IDA7XG4gICAgbGV0IHJlc3VsdEltYWdlSGVpZ2h0ID0gMDtcblxuICAgIGlmICh0aGlzLm5hdHVyYWxXaWR0aCA+PSB0aGlzLm5hdHVyYWxIZWlnaHQpIHtcbiAgICAgIHJlc3VsdEltYWdlSGVpZ2h0ID0gKHRoaXMubmF0dXJhbEhlaWdodCAqIGNhbnZhcy53aWR0aCkgLyB0aGlzLm5hdHVyYWxXaWR0aDtcbiAgICAgIHN0YXJ0WSA9IChjYW52YXMuaGVpZ2h0IC0gcmVzdWx0SW1hZ2VIZWlnaHQpIC8gMjtcbiAgICAgIHJlc3VsdEltYWdlV2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubmF0dXJhbEhlaWdodCA+IHRoaXMubmF0dXJhbFdpZHRoKSB7XG4gICAgICByZXN1bHRJbWFnZVdpZHRoID0gKHRoaXMubmF0dXJhbFdpZHRoICogY2FudmFzLmhlaWdodCkgLyB0aGlzLm5hdHVyYWxIZWlnaHQ7XG4gICAgICBzdGFydFggPSAoY2FudmFzLndpZHRoIC0gcmVzdWx0SW1hZ2VXaWR0aCkgLyAyO1xuICAgICAgcmVzdWx0SW1hZ2VIZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuICAgIH1cblxuICAgIGN0eC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICBjdHguZHJhd0ltYWdlKGltZywgc3RhcnRYLCBzdGFydFksIHJlc3VsdEltYWdlV2lkdGgsIHJlc3VsdEltYWdlSGVpZ2h0KTtcblxuICAgIGN1cnJlbnRTdGF0ZUNhbnZhcygpO1xuICB9O1xufSk7XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidy1pbWcnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgY29uc3QgaURhdGFTcmMgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gIGNvbnN0IGlEYXRhVHJnID0gY3R4LmNyZWF0ZUltYWdlRGF0YShjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICBjb25zdCBkYXRhU3JjID0gaURhdGFTcmMuZGF0YTtcbiAgY29uc3QgZGF0YVRyZyA9IGlEYXRhVHJnLmRhdGE7XG4gIGNvbnN0IHJhdGlvUmVkID0gMC4yMTI2O1xuICBjb25zdCByYXRpb0dyZWVuID0gMC43MTUyO1xuICBjb25zdCByYXRpb0JsdWUgPSAwLjA3MjI7XG4gIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICBsZXQgbHVtYTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFTcmMubGVuZ3RoOyBpICs9IDQpIHtcbiAgICBsdW1hID0gZGF0YVNyY1tpXSAqIHJhdGlvUmVkICsgZGF0YVNyY1tpICsgMV0gKiByYXRpb0dyZWVuICsgZGF0YVNyY1tpICsgMl0gKiByYXRpb0JsdWU7XG4gICAgZGF0YVRyZ1tpXSA9IGx1bWE7XG4gICAgZGF0YVRyZ1tpICsgMV0gPSBsdW1hO1xuICAgIGRhdGFUcmdbaSArIDJdID0gbHVtYTtcbiAgICBkYXRhVHJnW2kgKyAzXSA9IGRhdGFTcmNbaSArIDNdO1xuICB9XG5cbiAgaW1nLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XG4gIGN0eC5wdXRJbWFnZURhdGEoaURhdGFUcmcsIDAsIDApO1xuICBpbWcuc3JjID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICBjdXJyZW50U3RhdGVDYW52YXMoKTtcbn0pO1xuXG5idG5GcmFtZXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgY3VycmVudEZyYW1lSXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUtZnJhbWUnKTtcbiAgYWRkRnJhbWVIVE1MKGxpc3RGcmFtZXMpO1xuICBjdXJyZW50RnJhbWVJdGVtID0gbGlzdEZyYW1lcy5sYXN0RWxlbWVudENoaWxkO1xuICBjdXJyZW50RnJhbWVJdGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZS1mcmFtZScpO1xuXG4gIGN0eC5maWxsU3R5bGUgPSBjbGVhckNvbG9yQ2FudmFzO1xuICBjdHguZmlsbFJlY3QoMCwgMCwgZnVsbFNpemVDYW52YXMsIGZ1bGxTaXplQ2FudmFzKTtcblxuICBsaXN0Q2FudmFzSW1hZ2VzLnNwbGljZShsaXN0Q2FudmFzSW1hZ2VzLmxlbmd0aCwgMCwgY2FudmFzLnRvRGF0YVVSTCgpKTtcbn0pO1xuXG5saXN0RnJhbWVzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIGlmIChlLnRhcmdldC5jbG9zZXN0KCdidXR0b25bY2xhc3MqPWRlbGV0ZV0nKSkge1xuICAgIGNvbnN0IGluZGV4SXRlbUZyYW1lID0gQXJyYXkuZnJvbShsaXN0RnJhbWVzLmNoaWxkcmVuKS5maW5kSW5kZXgoKGVsKSA9PiBlbCA9PT0gZS50YXJnZXQuY2xvc2VzdCgnbGknKSk7XG4gICAgZS50YXJnZXQuY2xvc2VzdCgnbGknKS5yZW1vdmUoKTtcbiAgICBsaXN0Q2FudmFzSW1hZ2VzLnNwbGljZShpbmRleEl0ZW1GcmFtZSwgMSk7XG4gIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xvc2VzdCgnYnV0dG9uW2NsYXNzKj1jbG9uZV0nKSkge1xuICAgIGN1cnJlbnRGcmFtZUl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLWZyYW1lJyk7XG4gICAgY3VycmVudEZyYW1lSXRlbSA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2xpJyk7XG4gICAgY3VycmVudEZyYW1lSXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtZnJhbWUnKTtcblxuICAgIGNvbnN0IGluZGV4SXRlbUZyYW1lID0gQXJyYXkuZnJvbShsaXN0RnJhbWVzLmNoaWxkcmVuKS5maW5kSW5kZXgoKGVsKSA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZS1mcmFtZScpKTtcbiAgICBsaXN0RnJhbWVzLmluc2VydEJlZm9yZShlLnRhcmdldC5jbG9zZXN0KCdsaScpLmNsb25lTm9kZSh0cnVlKSwgZS50YXJnZXQuY2xvc2VzdCgnbGknKS5uZXh0RWxlbWVudFNpYmxpbmcpO1xuXG4gICAgY29uc3QgYWZ0ZXJDdXJyZW50RnJhbWVJdGVtID0gY3VycmVudEZyYW1lSXRlbS5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgY3VycmVudEZyYW1lSXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUtZnJhbWUnKTtcblxuICAgIGNvbnN0IHNtYWxsQ3R4ID0gYWZ0ZXJDdXJyZW50RnJhbWVJdGVtLmNoaWxkcmVuWzBdLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWcuc3JjID0gbGlzdENhbnZhc0ltYWdlc1tpbmRleEl0ZW1GcmFtZV07XG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIHNtYWxsQ3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIHNtYWxsU2l6ZUNhbnZhcywgc21hbGxTaXplQ2FudmFzKTtcbiAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcbiAgICAgIGxpc3RDYW52YXNJbWFnZXMuc3BsaWNlKGluZGV4SXRlbUZyYW1lLCAwLCBjYW52YXMudG9EYXRhVVJMKCkpO1xuICAgIH07XG5cbiAgICBjdXJyZW50RnJhbWVJdGVtID0gYWZ0ZXJDdXJyZW50RnJhbWVJdGVtO1xuICB9IGVsc2Uge1xuICAgIGN1cnJlbnRGcmFtZUl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLWZyYW1lJyk7XG4gICAgY3VycmVudEZyYW1lSXRlbSA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2xpJyk7XG4gICAgY3VycmVudEZyYW1lSXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtZnJhbWUnKTtcblxuICAgIGNvbnN0IGluZGV4SXRlbUZyYW1lID0gQXJyYXkuZnJvbShsaXN0RnJhbWVzLmNoaWxkcmVuKS5maW5kSW5kZXgoKGVsKSA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZS1mcmFtZScpKTtcblxuICAgIGlmIChsaXN0Q2FudmFzSW1hZ2VzW2luZGV4SXRlbUZyYW1lXSkge1xuICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWcuc3JjID0gbGlzdENhbnZhc0ltYWdlc1tpbmRleEl0ZW1GcmFtZV07XG4gICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDdXJyZW50U2l6ZUNhbnZhcyhzaXplKSB7XG4gIGN1cnJlbnRTaXplQ2FudmFzID0gc2l6ZTtcbiAgZ2V0Q2FudmFzU2l6ZShjdXJyZW50U2l6ZUNhbnZhcyk7XG4gIGltYWdlUmVzaXppbmcudmFsdWUgPSBjdXJyZW50U2l6ZUNhbnZhcztcbiAgaW1hZ2VSZXNpemluZ1RleHQudGV4dENvbnRlbnQgPSBgSW1hZ2UgcmVzaXppbmcgJHtjdXJyZW50U2l6ZUNhbnZhc31weGA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRMaXN0Q2FudmFzSW1hZ2VzKGltYWdlcykge1xuICBsaXN0Q2FudmFzSW1hZ2VzID0gaW1hZ2VzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0SW5kZXhDdXJyZW50RnJhbWUoaW5kZXgpIHtcbiAgaW5kZXhGcmFtZSA9IGluZGV4O1xuXG4gIGlmICghbGlzdENhbnZhc0ltYWdlcy5sZW5ndGgpIHtcbiAgICBhZGRGcmFtZUhUTUwobGlzdEZyYW1lcyk7XG4gICAgY3VycmVudEZyYW1lSXRlbSA9IGxpc3RGcmFtZXMuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgY3VycmVudEZyYW1lSXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtZnJhbWUnKTtcblxuICAgIGN0eC5maWxsU3R5bGUgPSBjbGVhckNvbG9yQ2FudmFzO1xuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBmdWxsU2l6ZUNhbnZhcywgZnVsbFNpemVDYW52YXMpO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Q2FudmFzSW1hZ2VzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgYWRkRnJhbWVIVE1MKGxpc3RGcmFtZXMpO1xuXG4gICAgaWYgKGxpc3RGcmFtZXMuY2hpbGRyZW5baV0pIHtcbiAgICAgIGNvbnN0IHNtYWxsQ3R4ID0gbGlzdEZyYW1lcy5jaGlsZHJlbltpXS5jaGlsZHJlblswXS5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWcuc3JjID0gbGlzdENhbnZhc0ltYWdlc1tpXTtcbiAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiBzbWFsbEN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCBzbWFsbFNpemVDYW52YXMsIHNtYWxsU2l6ZUNhbnZhcyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGluZGV4RnJhbWUgPj0gMCkge1xuICAgIGN1cnJlbnRGcmFtZUl0ZW0gPSBsaXN0RnJhbWVzLmNoaWxkcmVuW2luZGV4RnJhbWVdO1xuICB9IGVsc2Uge1xuICAgIGN1cnJlbnRGcmFtZUl0ZW0gPSBsaXN0RnJhbWVzLmZpcnN0RWxlbWVudENoaWxkO1xuICB9XG5cbiAgY3VycmVudEZyYW1lSXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtZnJhbWUnKTtcblxuICBsZXQgc2VhcmNoSW5kZXhGcmFtZSA9IDA7XG5cbiAgaWYgKGluZGV4RnJhbWUgPiAwKSB7XG4gICAgc2VhcmNoSW5kZXhGcmFtZSA9IGluZGV4RnJhbWU7XG4gIH1cblxuICBpZiAobGlzdENhbnZhc0ltYWdlc1tzZWFyY2hJbmRleEZyYW1lXSkge1xuICAgIGNvbnN0IGRhdGFVUkwgPSBsaXN0Q2FudmFzSW1hZ2VzW3NlYXJjaEluZGV4RnJhbWVdO1xuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuXG4gICAgaW1nLnNyYyA9IGRhdGFVUkw7XG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q2l0eShjaXR5KSB7XG4gIG5ld0NpdHkgPSBjaXR5O1xuICBzZWxlY3RDaXR5LnZhbHVlID0gY2l0eTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRTaXplQ2FudmFzKCkge1xuICByZXR1cm4gY3VycmVudFNpemVDYW52YXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDYW52YXNJbWFnZXMoKSB7XG4gIHJldHVybiBsaXN0Q2FudmFzSW1hZ2VzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW5kZXhDdXJyZW50RnJhbWUoKSB7XG4gIGNvbnN0IGluZGV4ID0gQXJyYXkuZnJvbShsaXN0RnJhbWVzLmNoaWxkcmVuKS5maW5kSW5kZXgoKGVsKSA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZS1mcmFtZScpKTtcbiAgcmV0dXJuIGluZGV4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2l0eSgpIHtcbiAgcmV0dXJuIG5ld0NpdHk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3TW91c2VNb3ZlKGN1cnJlbnRYLCBjdXJyZW50WSkge1xuICBjb25zdCBtb3VzZSA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gIH07XG4gIGNvbnN0IGN1cnJlbnRUaWxlV2lkdGggPSBnZXRUaWxlV2lkdGgoKTtcbiAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgbXggPSAoY3VycmVudFggLSByZWN0LmxlZnQpIC8gKGZ1bGxTaXplQ2FudmFzIC8gY3VycmVudFNpemVDYW52YXMpO1xuICBjb25zdCBteSA9IChjdXJyZW50WSAtIHJlY3QudG9wKSAvIChmdWxsU2l6ZUNhbnZhcyAvIGN1cnJlbnRTaXplQ2FudmFzKTtcbiAgY29uc3QgeEluZGV4ID0gTWF0aC5mbG9vcihteCAvIGN1cnJlbnRUaWxlV2lkdGgpO1xuICBjb25zdCB5SW5kZXggPSBNYXRoLmZsb29yKG15IC8gY3VycmVudFRpbGVXaWR0aCk7XG4gIG1vdXNlLnggPSB4SW5kZXggKiBjdXJyZW50VGlsZVdpZHRoO1xuICBtb3VzZS55ID0geUluZGV4ICogY3VycmVudFRpbGVXaWR0aDtcbiAgY3R4LmxpbmVUbyhtb3VzZS54LCBtb3VzZS55KTtcbiAgY3R4LmZpbGxSZWN0KG1vdXNlLngsIG1vdXNlLnksIGN1cnJlbnRUaWxlV2lkdGgsIGN1cnJlbnRUaWxlV2lkdGgpO1xufVxuXG5mdW5jdGlvbiBnZXRDYW52YXNTaXplKHNpemUpIHtcbiAgY2FudmFzLndpZHRoID0gc2l6ZTtcbiAgY2FudmFzLmhlaWdodCA9IHNpemU7XG59XG5cbmZ1bmN0aW9uIGdldE1vdXNlWChldmVudCkge1xuICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBteCA9IChldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0KSAvIChmdWxsU2l6ZUNhbnZhcyAvIGN1cnJlbnRTaXplQ2FudmFzKTtcbiAgY29uc3QgeEluZGV4ID0gTWF0aC5mbG9vcihteCAvIGdldFRpbGVXaWR0aCgpKTtcbiAgcmV0dXJuIHhJbmRleCAqIGdldFRpbGVXaWR0aCgpO1xufVxuXG5mdW5jdGlvbiBnZXRNb3VzZVkoZXZlbnQpIHtcbiAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgbXkgPSAoZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wKSAvIChmdWxsU2l6ZUNhbnZhcyAvIGN1cnJlbnRTaXplQ2FudmFzKTtcbiAgY29uc3QgeUluZGV4ID0gTWF0aC5mbG9vcihteSAvIGdldFRpbGVXaWR0aCgpKTtcbiAgcmV0dXJuIHlJbmRleCAqIGdldFRpbGVXaWR0aCgpO1xufVxuXG5mdW5jdGlvbiBmaWxsQ2FudmFzKGNvbG9yKSB7XG4gIGN0eC5jbGVhclJlY3QoMCwgMCwgZnVsbFNpemVDYW52YXMsIGZ1bGxTaXplQ2FudmFzKTtcbiAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICBjdHguZmlsbFJlY3QoMCwgMCwgZnVsbFNpemVDYW52YXMsIGZ1bGxTaXplQ2FudmFzKTtcbiAgY3VycmVudFN0YXRlQ2FudmFzKCk7XG59XG5cbmZ1bmN0aW9uIGZsb29kRmlsbCh4LCB5LCBmaWxsQ29sb3IpIHtcbiAgY29uc3QgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBjdHguY2FudmFzLndpZHRoLCBjdHguY2FudmFzLmhlaWdodCk7XG4gIGNvbnN0IHRhcmdldENvbG9yID0gZ2V0UGl4ZWwoaW1hZ2VEYXRhLCB4LCB5KTtcbiAgaWYgKCFjb2xvcnNNYXRjaCh0YXJnZXRDb2xvciwgZmlsbENvbG9yKSkge1xuICAgIGNvbnN0IHBpeGVsc1RvQ2hlY2sgPSBbeCwgeV07XG4gICAgd2hpbGUgKHBpeGVsc1RvQ2hlY2subGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgeUluZGV4ID0gcGl4ZWxzVG9DaGVjay5wb3AoKTtcbiAgICAgIGNvbnN0IHhJbmRleCA9IHBpeGVsc1RvQ2hlY2sucG9wKCk7XG4gICAgICBjb25zdCBjdXJyZW50Q29sb3IgPSBnZXRQaXhlbChpbWFnZURhdGEsIHhJbmRleCwgeUluZGV4KTtcbiAgICAgIGlmIChjb2xvcnNNYXRjaChjdXJyZW50Q29sb3IsIHRhcmdldENvbG9yKSkge1xuICAgICAgICBzZXRQaXhlbChpbWFnZURhdGEsIHhJbmRleCwgeUluZGV4LCBmaWxsQ29sb3IpO1xuICAgICAgICBwaXhlbHNUb0NoZWNrLnB1c2goeEluZGV4ICsgMSwgeUluZGV4KTtcbiAgICAgICAgcGl4ZWxzVG9DaGVjay5wdXNoKHhJbmRleCAtIDEsIHlJbmRleCk7XG4gICAgICAgIHBpeGVsc1RvQ2hlY2sucHVzaCh4SW5kZXgsIHlJbmRleCArIDEpO1xuICAgICAgICBwaXhlbHNUb0NoZWNrLnB1c2goeEluZGV4LCB5SW5kZXggLSAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY3R4LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBpeGVsKGltYWdlRGF0YSwgeCwgeSkge1xuICBpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+PSBpbWFnZURhdGEud2lkdGggfHwgeSA+PSBpbWFnZURhdGEuaGVpZ2h0KSB7XG4gICAgcmV0dXJuIFstMSwgLTEsIC0xLCAtMV07XG4gIH1cbiAgY29uc3Qgb2Zmc2V0ID0gKHkgKiBpbWFnZURhdGEud2lkdGggKyB4KSAqIDQ7XG4gIHJldHVybiBpbWFnZURhdGEuZGF0YS5zbGljZShvZmZzZXQsIG9mZnNldCArIDQpO1xufVxuXG5mdW5jdGlvbiBzZXRQaXhlbChpbWFnZURhdGEsIHgsIHksIGNvbG9yKSB7XG4gIGNvbnN0IG9mZnNldCA9ICh5ICogaW1hZ2VEYXRhLndpZHRoICsgeCkgKiA0O1xuICBjb25zdCBkYXRhQ2FudmFzID0gaW1hZ2VEYXRhO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkgKz0gMSkge1xuICAgIGRhdGFDYW52YXMuZGF0YVtvZmZzZXQgKyBpXSA9IGNvbG9yW2ldO1xuICB9XG59XG5cbmZ1bmN0aW9uIGN1cnJlbnRTdGF0ZUNhbnZhcygpIHtcbiAgY29uc3QgZGF0YVVSTCA9IGNhbnZhcy50b0RhdGFVUkwoKTtcbiAgY29uc3Qgc21hbGxDdHggPSBjdXJyZW50RnJhbWVJdGVtLmNoaWxkcmVuWzBdLmdldENvbnRleHQoJzJkJyk7XG5cbiAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gIGltZy5zcmMgPSBkYXRhVVJMO1xuICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgIHNtYWxsQ3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIHNtYWxsU2l6ZUNhbnZhcywgc21hbGxTaXplQ2FudmFzKTtcbiAgfTtcblxuICBjb25zdCBpbmRleEl0ZW1GcmFtZSA9IEFycmF5LmZyb20obGlzdEZyYW1lcy5jaGlsZHJlbikuZmluZEluZGV4KChlbCkgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUtZnJhbWUnKSk7XG4gIGxpc3RDYW52YXNJbWFnZXNbaW5kZXhJdGVtRnJhbWVdID0gZGF0YVVSTDtcbn1cbiIsImNvbnN0IGFuaW1TaXplQ2FudmFzID0gMjAwO1xuY29uc3QgY2FudmFzQW5pbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbmltLWNhbnZhcycpO1xubGV0IGNvdW50ID0gMDtcblxuY2FudmFzQW5pbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bGxTY3JlZW4pO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGVwKGNhbnZhc0ltYWdlcykge1xuICBjb25zdCBhbmltQ3R4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FuaW0tY2FudmFzJykuZ2V0Q29udGV4dCgnMmQnKTtcbiAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG5cbiAgYW5pbUN0eC5jbGVhclJlY3QoMCwgMCwgYW5pbVNpemVDYW52YXMsIGFuaW1TaXplQ2FudmFzKTtcblxuICBpZiAoY291bnQgPj0gY2FudmFzSW1hZ2VzLmxlbmd0aCkge1xuICAgIGNvdW50ID0gMDtcbiAgfVxuICBpZiAoY2FudmFzSW1hZ2VzW2NvdW50XSkge1xuICAgIGltZy5zcmMgPSBjYW52YXNJbWFnZXNbY291bnRdO1xuICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBhbmltQ3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIGFuaW1TaXplQ2FudmFzLCBhbmltU2l6ZUNhbnZhcyk7XG4gICAgfTtcblxuICAgIGNvdW50ICs9IDE7XG4gIH1cbn1cblxuZnVuY3Rpb24gZnVsbFNjcmVlbigpIHtcbiAgaWYgKCdmdWxsc2NyZWVuRW5hYmxlZCcgaW4gZG9jdW1lbnQgfHwgJ3dlYmtpdEZ1bGxzY3JlZW5FbmFibGVkJyBpbiBkb2N1bWVudCkge1xuICAgIGlmIChkb2N1bWVudC5mdWxsc2NyZWVuRW5hYmxlZCB8fCBkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCkge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbmltLWNhbnZhcycpO1xuICAgICAgaWYgKCdyZXF1ZXN0RnVsbHNjcmVlbicgaW4gZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICB9IGVsc2UgaWYgKCd3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbicgaW4gZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50LndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJjb25zdCBidG5PcGVuUGlza2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1vcGVuLXBpc2tlbCcpO1xuY29uc3QgaHRtbExhbmRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3JhcHBlci1sYW5kaW5nJyk7XG5jb25zdCBodG1sUGlza2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dyYXBwZXItcGlza2VsJyk7XG5cbmJ0bk9wZW5QaXNrZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gb3BlblBhZ2VQaXNrZWwoZSkpO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBvcGVuUGFnZVBpc2tlbChkYXRhKSB7XG4gIGlmIChkYXRhKSB7XG4gICAgaHRtbExhbmRpbmcuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBodG1sUGlza2VsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICB9XG59XG4iLCJpbXBvcnQgJy4vYXNzZXRzJztcbmltcG9ydCBjcmVhdGVBdXRoIGZyb20gJy4vYXV0aCc7XG5pbXBvcnQge1xuICBnZXRDdXJyZW50U2l6ZUNhbnZhcyxcbiAgZ2V0Q2l0eSxcbiAgZ2V0Q2FudmFzSW1hZ2VzLFxuICBnZXRJbmRleEN1cnJlbnRGcmFtZSxcbiAgc2V0Q3VycmVudFNpemVDYW52YXMsXG4gIHNldExpc3RDYW52YXNJbWFnZXMsXG4gIHNldENpdHksXG4gIHNldEluZGV4Q3VycmVudEZyYW1lLFxufSBmcm9tICcuL2NhbnZhcyc7XG5pbXBvcnQgeyBjaGFuZ2VUb1NhdmVDb2xvciwgZ2V0U2VsZWN0Q29sb3JWYWx1ZSB9IGZyb20gJy4vY29sb3Itc2VsZWN0aW9uJztcbmltcG9ydCBzdGVwIGZyb20gJy4vaGVscGVycy1hbmltJztcbmltcG9ydCBvcGVuUGFnZVBpc2tlbCBmcm9tICcuL2xhbmRpbmcnO1xuaW1wb3J0IHsgY2hlY2tDdXJyZW50VG9vbCB9IGZyb20gJy4vdG9vbHMnO1xuXG5jb25zdCBzYXZlQ3VycmVudEluZGV4RnJhbWUgPSAnY3VycmVudEluZGV4RnJhbWUnO1xuY29uc3Qgc2F2ZUFsbENhbnZhc0ZyYW1lID0gJ2FsbENhbnZhc0ZyYW1lJztcbmNvbnN0IHNhdmVTaXplQ2FudmFzID0gJ3NpemVDYW52YXMnO1xuY29uc3Qgc2F2ZUN1cnJlbnRDaXR5ID0gJ2N1cnJlbnRDaXR5JztcbmNvbnN0IHNhdmVDb2xvciA9ICdjdXJyZW50Q29sb3InO1xuY29uc3QgY2hhbmdlRnBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FuaW0tZnBzJyk7XG5jb25zdCBsYWJlbEFuaW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGFiZWwtYW5pbScpO1xubGV0IGZwcyA9IDE7XG5sZXQgdGltZXJJZCA9IHNldEludGVydmFsKCgpID0+IHN0ZXAoZ2V0Q2FudmFzSW1hZ2VzKCkpLCAxMDAwIC8gZnBzKTtcblxubG9hZEZyb21Mb2NhbFN0b3JhZ2UoKTtcbm9wZW5QYWdlUGlza2VsKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNhdmVDdXJyZW50SW5kZXhGcmFtZSkpO1xuY2hlY2tDdXJyZW50VG9vbCgpO1xuY3JlYXRlQXV0aCgpO1xuXG5jaGFuZ2VGcHMuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gIGNsZWFySW50ZXJ2YWwodGltZXJJZCk7XG4gIGZwcyA9IGNoYW5nZUZwcy52YWx1ZTtcbiAgbGFiZWxBbmltLnRleHRDb250ZW50ID0gYCR7ZnBzfSBmcHNgO1xuICB0aW1lcklkID0gc2V0SW50ZXJ2YWwoKCkgPT4gc3RlcChnZXRDYW52YXNJbWFnZXMoKSksIDEwMDAgLyBmcHMpO1xufSk7XG5cbmZ1bmN0aW9uIGxvYWRGcm9tTG9jYWxTdG9yYWdlKCkge1xuICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oc2F2ZVNpemVDYW52YXMpKSB7XG4gICAgc2V0Q3VycmVudFNpemVDYW52YXMobG9jYWxTdG9yYWdlLmdldEl0ZW0oc2F2ZVNpemVDYW52YXMpKTtcbiAgfVxuXG4gIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzYXZlQWxsQ2FudmFzRnJhbWUpKSB7XG4gICAgc2V0TGlzdENhbnZhc0ltYWdlcyhKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNhdmVBbGxDYW52YXNGcmFtZSkpKTtcbiAgfVxuXG4gIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzYXZlQ3VycmVudENpdHkpKSB7XG4gICAgc2V0Q2l0eShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzYXZlQ3VycmVudENpdHkpKTtcbiAgfVxuXG4gIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzYXZlQ29sb3IpKSB7XG4gICAgY2hhbmdlVG9TYXZlQ29sb3IobG9jYWxTdG9yYWdlLmdldEl0ZW0oc2F2ZUNvbG9yKSk7XG4gIH1cblxuICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oc2F2ZUN1cnJlbnRJbmRleEZyYW1lKSkge1xuICAgIHNldEluZGV4Q3VycmVudEZyYW1lKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNhdmVDdXJyZW50SW5kZXhGcmFtZSkpO1xuICB9XG59XG5cbndpbmRvdy5vbmJlZm9yZXVubG9hZCA9ICgpID0+IHtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc2F2ZUFsbENhbnZhc0ZyYW1lLCBKU09OLnN0cmluZ2lmeShnZXRDYW52YXNJbWFnZXMoKSkpO1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzYXZlQ29sb3IsIGdldFNlbGVjdENvbG9yVmFsdWUoKSk7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHNhdmVDdXJyZW50SW5kZXhGcmFtZSwgZ2V0SW5kZXhDdXJyZW50RnJhbWUoKSk7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHNhdmVDdXJyZW50Q2l0eSwgZ2V0Q2l0eSgpKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc2F2ZVNpemVDYW52YXMsIGdldEN1cnJlbnRTaXplQ2FudmFzKCkpO1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=